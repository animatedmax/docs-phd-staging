<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">

  
  <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

  
  <title>PHD Troubleshooting | Pivotal HD Docs</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <link href="stylesheets/master.css" media="screen,print" rel="stylesheet" type="text/css">
  <link href="stylesheets/print.css" media="print" rel="stylesheet" type="text/css">
  <link href="http://www.pivotal.io/misc/favicon.ico" rel="shortcut icon">
  <script src="javascripts/all.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    if (window.location.host === 'docs.pivotal.io') {
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-39702075-1']);
      _gaq.push(['_setDomainName', 'pivotal.io']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    }
  </script>
  
   <link href="stylesheets/site-conf.css" media="screen,print" rel="stylesheet" type="text/css"> 
   
   
    <link href="stylesheets/dcaccordion.css" rel="stylesheet" type="text/css">
    
   
</head>

<body class="pivotalhd pivotalhd_getstarted pivotalhd_getstarted_phd-docs has-subnav">

<div class="viewport">
<div class="wrap">
  <script src="//use.typekit.net/clb0qji.js" type="text/javascript"></script>
  <script type="text/javascript">
      try {
          Typekit.load();
      } catch (e) {
      }
  </script>
  <script type="text/javascript">
      document.domain = "pivotal.io";
  </script>

  <script type="text/javascript">
    WebFontConfig = {
      google: { families: [ 'Source+Sans+Pro:300italic,400italic,300,400,600:latin' ] }
    };
    (function() {
      var wf = document.createElement('script');
      wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
        '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
      wf.type = 'text/javascript';
      wf.async = 'true';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(wf, s);
    })();
  </script>
   
    <header class="header header-layout">
      <h1 class="logo">
        <a href="index.html">Pivotal HD Documentation</a> v2.1.0
      </h1>
      <div class="header-links js-bar-links">
        <div class="btn-menu" data-behavior="MenuMobile"></div>
        <div class="header-item">
          <a href="http://docs.pivotal.io">Docs Home</a>
        </div>
        <div class="header-item">
          <a href="http://support.pivotal.io" target="_blank">Support</a>
        </div>
        <div class="header-item searchbar js-searchbar">
          <a class="search-icon" data-behavior="Search"></a>
          <div class="search-input">
            
            <div class="search-input-inner" id="docs-search">
                <div class="gcse-search"></div>
            </div>
          </div>
        </div>
      </div>
    </header>
    
    <div class="container">
    
	
	<div id="sub-nav" class="nav-container">

         <p class="productname"><a href="PivotalHD.html">Pivotal HD</a></p>
         <ul>
            <li>
               <a href="PHDEnterprise2.1.0ReleaseNotes.html">PHD Enterprise 2.1.0 Release Notes</a>
            </li>
            <li>
               <a href="PHDInstallationandAdministration.html">PHD Installation and Administration</a>
               <ul>
                  <li>
                     <a href="OverviewofPHD.html">Overview of PHD</a>
                  </li>
                  <li>
                     <a href="InstallationOverview.html">Installation Overview</a>
                     <ul>
                        <li>
                           <a href="CommandLineInstallationFeatures.html">Command Line Installation Features</a>
                        </li>
                        <li>
                           <a href="DeploymentOptions.html">Deployment Options</a>
                        </li>
                        <li>
                           <a href="PlanningyourPHDClusterDeployment.html">Planning your PHD Cluster Deployment</a>
                        </li>
                        <li>
                           <a href="BestPracticesforSelectingHardware.html">Best Practices for Selecting Hardware</a>
                        </li>
                        <li>
                           <a href="BestPracticesforDeployingHadoopServices.html">Best Practices for Deploying Hadoop Services</a>
                        </li>
                        <li>
                           <a href="HighAvailabilityBestPractices.html">High Availability Best Practices</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="PHDInstallationPrerequisites.html">PHD Installation Prerequisites</a>
                     <ul>
                        <li>
                           <a href="BeforeYouBeginInstallingPHD.html">Before You Begin Installing PHD</a>
                        </li>
                        <li>
                           <a href="PHDPrerequisiteChecklist.html">PHD Prerequisite Checklist</a>
                        </li>
                        <li>
                           <a href="PHD-DNSLookup.html">PHD - DNS Lookup</a>
                        </li>
                        <li>
                           <a href="PHD-JAVAJDK.html">PHD - JAVA JDK</a>
                        </li>
                        <li>
                           <a href="PHD-VerifyPackageAccessibility.html">PHD - Verify Package Accessibility</a>
                        </li>
                        <li>
                           <a href="PHD-TurnOffiptables.html">PHD - Turn Off iptables</a>
                        </li>
                        <li>
                           <a href="PHD-DisableSELinux.html">PHD - Disable SELinux</a>
                        </li>
                        <li>
                           <a href="EPELYumRepository.html">EPEL Yum Repository</a>
                        </li>
                        <li>
                           <a href="SudoConfigurationFiles.html">Sudo Configuration Files</a>
                        </li>
                        <li>
                           <a href="FQDN.html">FQDN</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="InstallingPHDUsingtheCLI.html">Installing PHD Using the CLI</a>
                     <ul>
                        <li>
                           <a href="PHDInstallationChecklist.html">PHD Installation Checklist</a>
                        </li>
                        <li>
                           <a href="InstallingPivotalCommandCenter.html">Installing Pivotal Command Center</a>
                        </li>
                        <li>
                           <a href="ConfiguringKerberosandLDAP.html">Configuring Kerberos and LDAP</a>
                        </li>
                        <li>
                           <a href="PHD-ImportingthePackages.html">PHD - Importing the Packages</a>
                        </li>
                        <li>
                           <a href="EditingtheClusterConfigurationFiles.html">Editing the Cluster Configuration Files</a>
                        </li>
                        <li>
                           <a href="EditingtheHAWQConfigurationFile.html">Editing the HAWQ Configuration File</a>
                        </li>
                        <li>
                           <a href="ForPXFwithGemFireXD.html">For PXF with GemFire XD</a>
                        </li>
                        <li>
                           <a href="DeployingtheCluster.html">Deploying the Cluster</a>
                        </li>
                        <li>
                           <a href="StartingtheCluster.html">Starting the Cluster</a>
                        </li>
                        <li>
                           <a href="InitializingandStartingHAWQ.html">Initializing and Starting HAWQ</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="PHDPost-Installation.html">PHD Post-Installation</a>
                     <ul>
                        <li>
                           <a href="VerifyingPHDServiceStatus.html">Verifying PHD Service Status</a>
                        </li>
                        <li>
                           <a href="RunningPHDSamplePrograms.html">Running PHD Sample Programs</a>
                        </li>
                        <li>
                           <a href="Post-InstallationReferenceInformation.html">Post-Installation Reference Information</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="PHDUpgradePrerequisites.html">PHD Upgrade Prerequisites</a>
                     <ul>
                        <li>
                           <a href="UpgradePrerequisiteChecklist.html">Upgrade Prerequisite Checklist</a>
                        </li>
                        <li>
                           <a href="FileLocationsandBackups.html">File Locations and Backups</a>
                        </li>
                        <li>
                           <a href="VerifyJavaJDK.html">Verify Java JDK</a>
                        </li>
                        <li>
                           <a href="CompactHBaseTables.html">Compact HBase Tables</a>
                        </li>
                        <li>
                           <a href="SudoConfigurationFile.html">Sudo Configuration File</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="UpgradingPHD2.0.xto2.1.0.html">Upgrading PHD 2.0.x to 2.1.0</a>
                     <ul>
                        <li>
                           <a href="PHDUpgradeChecklist-2.0.xto2.1.0.html">PHD Upgrade Checklist - 2.0.x to 2.1.0</a>
                        </li>
                        <li>
                           <a href="UpgradeInstructions-2.0.xto2.1.0.html">Upgrade Instructions - 2.0.x to 2.1.0</a>
                        </li>
                        <li>
                           <a href="MovingHAWQFilespacetoHA-enabledHDFS-2.0.xto2.1.0.html">Moving HAWQ Filespace to HA-enabled HDFS - 2.0.x to 2.1.0</a>
                        </li>
                        <li>
                           <a href="UpgradeReferenceInformation-2.0.xto2.1.0.html">Upgrade Reference Information - 2.0.x to 2.1.0</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="UpgradingPHDfrom1.1.1to2.1.0.html">Upgrading PHD from 1.1.1 to 2.1.0</a>
                     <ul>
                        <li>
                           <a href="UpgradeChecklist-1.1.1to2.1.0.html">Upgrade Checklist - 1.1.1 to 2.1.0</a>
                        </li>
                        <li>
                           <a href="UpgradeInstructions-1.1.1to2.1.0.html">Upgrade Instructions - 1.1.1 to 2.1.0</a>
                        </li>
                        <li>
                           <a href="MovingHAWQFilespacetoHA-enabledHDFS-1.1.1to2.1.0.html">Moving HAWQ Filespace to HA-enabled HDFS - 1.1.1 to 2.1.0</a>
                        </li>
                        <li>
                           <a href="UpgradeReferenceInformation-1.1.1to2.1.0.html">Upgrade Reference Information - 1.1.1 to 2.1.0</a>
                        </li>
                        <li>
                           <a href="DisablingSecurityona1.1.1Cluster.html">Disabling Security on a 1.1.1 Cluster</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="AdministeringPHDUsingtheCLI.html">Administering PHD Using the CLI</a>
                     <ul>
                        <li>
                           <a href="ManagingaPHDCluster.html">Managing a PHD Cluster</a>
                           <ul>
                              <li>
                                 <a href="StartingaCluster.html">Starting a Cluster</a>
                              </li>
                              <li>
                                 <a href="StoppingaCluster.html">Stopping a Cluster</a>
                              </li>
                              <li>
                                 <a href="RestartingaCluster.html">Restarting a Cluster</a>
                              </li>
                              <li>
                                 <a href="ReconfiguringaCluster.html">Reconfiguring a Cluster</a>
                              </li>
                              <li>
                                 <a href="AddingRemovingServices.html">Adding/Removing Services</a>
                              </li>
                              <li>
                                 <a href="AddingHoststoaCluster.html">Adding Hosts to a Cluster</a>
                              </li>
                              <li>
                                 <a href="RetrievingInformationaboutaDeployedCluster.html">Retrieving Information about a Deployed Cluster</a>
                              </li>
                              <li>
                                 <a href="ListingClusters.html">Listing Clusters</a>
                              </li>
                              <li>
                                 <a href="ExpandingaCluster.html">Expanding a Cluster</a>
                              </li>
                              <li>
                                 <a href="ShrinkingaCluster.html">Shrinking a Cluster</a>
                              </li>
                              <li>
                                 <a href="DecommissioningSlaveNodes.html">Decommissioning Slave Nodes</a>
                                 <ul>
                                    <li>
                                       <a href="DecommissionNodesOverview.html">Decommission Nodes Overview</a>
                                    </li>
                                    <li>
                                       <a href="DecommissioningtheDataNode.html">Decommissioning the Data Node</a>
                                    </li>
                                    <li>
                                       <a href="DecommissioningtheYARNNodeManager.html">Decommissioning the YARN NodeManager</a>
                                    </li>
                                    <li>
                                       <a href="ShuttingDowntheSlaveNode.html">Shutting Down the Slave Node</a>
                                    </li>
                                    <li>
                                       <a href="ReplacingtheSlaveNode.html">Replacing the Slave Node</a>
                                    </li>
                                    <li>
                                       <a href="ReplacingtheSlaveNodeDisk.html">Replacing the Slave Node Disk</a>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <a href="HighAvailability.html">High Availability</a>
                                 <ul>
                                    <li>
                                       <a href="DisablingHighAvailability.html">Disabling High Availability</a>
                                    </li>
                                    <li>
                                       <a href="EnablingRe-enablingHighAvailability.html">Enabling/Re-enabling High Availability</a>
                                    </li>
                                    <li>
                                       <a href="HighAvailabilityCommandReference.html">High Availability Command Reference</a>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <a href="SecurityKerberosAuthentication.html">Security/Kerberos Authentication</a>
                                 <ul>
                                    <li>
                                       <a href="EnablingKerberosAuthentication.html">Enabling Kerberos Authentication</a>
                                    </li>
                                    <li>
                                       <a href="DisablingKerberosAuthentication.html">Disabling Kerberos Authentication</a>
                                    </li>
                                    <li>
                                       <a href="SecureModeCommands.html">Secure Mode Commands</a>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <a href="UninstallingaCluster.html">Uninstalling a Cluster</a>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <a href="ManagingHAWQ.html">Managing HAWQ</a>
                           <ul>
                              <li>
                                 <a href="InitializingHAWQ.html">Initializing HAWQ</a>
                              </li>
                              <li>
                                 <a href="StartingHAWQ.html">Starting HAWQ</a>
                              </li>
                              <li>
                                 <a href="StoppingHAWQ.html">Stopping HAWQ</a>
                              </li>
                              <li>
                                 <a href="ModifyingHAWQUserConfiguration.html">Modifying HAWQ User Configuration</a>
                              </li>
                              <li>
                                 <a href="ExpandingHAWQ.html">Expanding HAWQ</a>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <a href="ManagingPHDRolesandHosts.html">Managing PHD Roles and Hosts</a>
                        </li>
                        <li>
                           <a href="PHDServicesReference.html">PHD Services Reference</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="PHDFAQ-FrequentlyAskedQuestions.html">PHD FAQ - Frequently Asked Questions</a>
                  </li>
                  <li>
                     <a class="active" href="PHDTroubleshooting.html">PHD Troubleshooting</a>
                  </li>
                  <li>
                     <a href="PHDRESTAPIs.html">PHD REST APIs</a>
                     <ul>
                        <li>
                           <a href="SwaggerwithOAuth.html">Swagger with OAuth</a>
                        </li>
                        <li>
                           <a href="ListofPHDRESTAPIs.html">List of PHD REST APIs</a>
                        </li>
                     </ul>
                  </li>
               </ul>
            </li>
            <li>
               <a href="StackandToolsReference.html">Stack and Tools Reference</a>
               <ul>
                  <li>
                     <a href="OverviewofApacheStackandPivotalComponents.html">Overview of Apache Stack and Pivotal Components</a>
                  </li>
                  <li>
                     <a href="ManuallyInstallingandUsingPivotalHD2.1Stack.html">Manually Installing and Using Pivotal HD 2.1 Stack</a>
                     <ul>
                        <li>
                           <a href="DistributionContents.html">Distribution Contents</a>
                        </li>
                        <li>
                           <a href="ApacheConfigurationReference.html">Apache Configuration Reference</a>
                        </li>
                        <li>
                           <a href="AccessingPHD2.1.html">Accessing PHD 2.1</a>
                        </li>
                        <li>
                           <a href="HadoopHDFS.html">Hadoop HDFS</a>
                        </li>
                        <li>
                           <a href="HadoopYARN.html">Hadoop YARN</a>
                        </li>
                        <li>
                           <a href="HadoopPseudo-distributedConfiguration.html">Hadoop Pseudo-distributed Configuration</a>
                        </li>
                        <li>
                           <a href="Zookeeper.html">Zookeeper</a>
                        </li>
                        <li>
                           <a href="HBase.html">HBase</a>
                        </li>
                        <li>
                           <a href="Hive.html">Hive</a>
                        </li>
                        <li>
                           <a href="HCatalog.html">HCatalog</a>
                        </li>
                        <li>
                           <a href="Pig.html">Pig</a>
                        </li>
                        <li>
                           <a href="Mahout.html">Mahout</a>
                        </li>
                        <li>
                           <a href="Flume.html">Flume</a>
                        </li>
                        <li>
                           <a href="Sqoop.html">Sqoop</a>
                        </li>
                        <li>
                           <a href="Oozie.html">Oozie</a>
                        </li>
                        <li>
                           <a href="GraphLab.html">GraphLab</a>
                        </li>
                        <li>
                           <a href="Hamster.html">Hamster</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="ManuallyUpgradingPivotalHDStacktoPHD2.1.html">Manually Upgrading Pivotal HD Stack to PHD 2.1</a>
                  </li>
                  <li>
                     <a href="PivotalHadoopEnhancements.html">Pivotal Hadoop Enhancements</a>
                  </li>
                  <li>
                     <a href="Security.html">Security</a>
                     <ul>
                        <li>
                           <a href="SecurityOverview.html">Security Overview</a>
                        </li>
                        <li>
                           <a href="KerberosSetup.html">Kerberos Setup</a>
                        </li>
                        <li>
                           <a href="LDAPSetup.html">LDAP Setup</a>
                        </li>
                        <li>
                           <a href="ConfiguringKerberosforHDFSandYARNMapReduce.html">Configuring Kerberos for HDFS and YARN (MapReduce)</a>
                        </li>
                        <li>
                           <a href="ConfiguringKerberosforHDFSHighAvailability.html">Configuring Kerberos for HDFS High Availability</a>
                        </li>
                        <li>
                           <a href="ConfiguringSecureZookeeper.html">Configuring Secure Zookeeper</a>
                        </li>
                        <li>
                           <a href="ConfiguringSecureHBase.html">Configuring Secure HBase</a>
                        </li>
                        <li>
                           <a href="ConfiguringSecureHive.html">Configuring Secure Hive</a>
                        </li>
                        <li>
                           <a href="ConfiguringHCatalogWebHCatonSecureHive.html">Configuring HCatalog (WebHCat) on Secure Hive</a>
                        </li>
                        <li>
                           <a href="ConfiguringHAWQonSecureHDFS.html">Configuring HAWQ on Secure HDFS</a>
                        </li>
                        <li>
                           <a href="EnablingAuditing.html">Enabling Auditing</a>
                        </li>
                        <li>
                           <a href="SecureWebAccess.html">Secure Web Access</a>
                        </li>
                        <li>
                           <a href="SecureWebAccessviaHttpFS.html">Secure Web Access via HttpFS</a>
                        </li>
                        <li>
                           <a href="ConfiguringSecureFlume.html">Configuring Secure Flume</a>
                        </li>
                        <li>
                           <a href="ConfiguringSecureOozie.html">Configuring Secure Oozie</a>
                        </li>
                        <li>
                           <a href="ConfiguringSecureSqoop.html">Configuring Secure Sqoop</a>
                        </li>
                        <li>
                           <a href="ConfiguringSecurePig.html">Configuring Secure Pig</a>
                        </li>
                        <li>
                           <a href="ConfiguringSecureMahout.html">Configuring Secure Mahout</a>
                        </li>
                        <li>
                           <a href="Security-Troubleshooting.html">Security - Troubleshooting</a>
                        </li>
                     </ul>
                  </li>
               </ul>
            </li>
         </ul>

         <p class="productname"><a href="PivotalCommandCenter.html">Pivotal Command Center</a></p>
         <ul>
            <li>
               <a href="PCC2.3.0ReleaseNotes.html">PCC 2.3.0 Release Notes</a>
            </li>
            <li>
               <a href="PCCUserGuide.html">PCC User Guide</a>
               <ul>
                  <li>
                     <a href="PCCOverview.html">PCC Overview</a>
                  </li>
                  <li>
                     <a href="PCCInstallationPrerequisites.html">PCC Installation Prerequisites</a>
                     <ul>
                        <li>
                           <a href="BeforeYouBeginInstallingPCC.html">Before You Begin Installing PCC</a>
                        </li>
                        <li>
                           <a href="PCCPrerequisiteChecklist.html">PCC Prerequisite Checklist</a>
                        </li>
                        <li>
                           <a href="PCC-DNSLookup.html">PCC - DNS Lookup</a>
                        </li>
                        <li>
                           <a href="PCC-JAVAJDK.html">PCC - JAVA JDK</a>
                        </li>
                        <li>
                           <a href="PCC-VerifyPackageAccessibility.html">PCC - Verify Package Accessibility</a>
                        </li>
                        <li>
                           <a href="PCC-TurnOffiptables.html">PCC - Turn Off iptables</a>
                        </li>
                        <li>
                           <a href="PCC-DisableSELinux.html">PCC - Disable SELinux</a>
                        </li>
                        <li>
                           <a href="PCC-EPELYumRepository.html">PCC - EPEL Yum Repository</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="InstallationInstructions.html">Installation Instructions</a>
                     <ul>
                        <li>
                           <a href="SupportedPlatformsandBrowsers.html">Supported Platforms and Browsers</a>
                        </li>
                        <li>
                           <a href="PCCInstallationChecklist.html">PCC Installation Checklist</a>
                        </li>
                        <li>
                           <a href="InstallPCC.html">Install PCC</a>
                        </li>
                        <li>
                           <a href="PCC-ImportingthePackages.html">PCC - Importing the Packages</a>
                        </li>
                        <li>
                           <a href="LaunchingPCC.html">Launching PCC</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="UninstallingPCC.html">Uninstalling PCC</a>
                  </li>
                  <li>
                     <a href="UpgradingPCC.html">Upgrading PCC</a>
                  </li>
                  <li>
                     <a href="UsingPCC.html">Using PCC</a>
                     <ul>
                        <li>
                           <a href="PCCUIOverview.html">PCC UI Overview</a>
                        </li>
                        <li>
                           <a href="LoggingIn.html">Logging In</a>
                        </li>
                        <li>
                           <a href="PCCUISettings.html">PCC UI Settings</a>
                        </li>
                        <li>
                           <a href="PCCUIUserManagement.html">PCC UI User Management</a>
                        </li>
                        <li>
                           <a href="ClusterStatusPage.html">Cluster Status Page</a>
                        </li>
                        <li>
                           <a href="ConfiguringandDeployingaCluster.html">Configuring and Deploying a Cluster</a>
                           <ul>
                              <li>
                                 <a href="LaunchingtheAddClusterWizard.html">Launching the Add Cluster Wizard</a>
                              </li>
                              <li>
                                 <a href="CreateClusterDefinition.html">Create Cluster Definition</a>
                              </li>
                              <li>
                                 <a href="VersionsServicesandHosts.html">Versions, Services, and Hosts</a>
                              </li>
                              <li>
                                 <a href="HostVerification.html">Host Verification</a>
                              </li>
                              <li>
                                 <a href="ClusterTopology.html">Cluster Topology</a>
                              </li>
                              <li>
                                 <a href="ClusterConfiguration.html">Cluster Configuration</a>
                              </li>
                              <li>
                                 <a href="Validation.html">Validation</a>
                              </li>
                              <li>
                                 <a href="DeploymentStatus.html">Deployment Status</a>
                              </li>
                              <li>
                                 <a href="Summary.html">Summary</a>
                              </li>
                              <li>
                                 <a href="StartingtheClusterfromtheUI.html">Starting the Cluster from the UI</a>
                              </li>
                              <li>
                                 <a href="InitializingandConfiguringHAWQ.html">Initializing and Configuring HAWQ</a>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <a href="StartingStoppingandUninstallingaCluster.html">Starting, Stopping, and Uninstalling a Cluster</a>
                        </li>
                        <li>
                           <a href="PCCUIDashboard.html">PCC UI Dashboard</a>
                        </li>
                        <li>
                           <a href="ClusterAnalysis.html">Cluster Analysis</a>
                        </li>
                        <li>
                           <a href="MapReduceJobMonitor.html">MapReduce Job Monitor</a>
                        </li>
                        <li>
                           <a href="YarnAppMonitor.html">Yarn App Monitor</a>
                        </li>
                        <li>
                           <a href="HAWQQueryMonitor.html">HAWQ Query Monitor</a>
                        </li>
                        <li>
                           <a href="Topology.html">Topology</a>
                        </li>
                        <li>
                           <a href="Logs.html">Logs</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="ConfiguringPCCforLDAP.html">Configuring PCC for LDAP</a>
                  </li>
                  <li>
                     <a href="CommandLineReference.html">Command Line Reference</a>
                  </li>
               </ul>
            </li>
         </ul>

         <p class="productname"><a href="PivotalHAWQ.html">Pivotal HAWQ</a></p>
         <ul>
            <li>
               <a href="HAWQ1.2.1ReleaseNotes.html">HAWQ 1.2.1 Release Notes</a>
            </li>
            <li>
               <a href="HAWQInstallationandUpgrade.html">HAWQ Installation and Upgrade</a>
               <ul>
                  <li>
                     <a href="PreparingtoInstallHAWQ.html">Preparing to Install HAWQ</a>
                  </li>
                  <li>
                     <a href="InstallingHAWQ.html">Installing HAWQ</a>
                  </li>
                  <li>
                     <a href="InstallingtheHAWQComponents.html">Installing the HAWQ Components</a>
                  </li>
                  <li>
                     <a href="UpgradingHAWQandComponents.html">Upgrading HAWQ and Components</a>
                  </li>
                  <li>
                     <a href="HAWQConfigurationParameterReference.html">HAWQ Configuration Parameter Reference</a>
                  </li>
               </ul>
            </li>
            <li>
               <a href="HAWQAdministration.html">HAWQ Administration</a>
               <ul>
                  <li>
                     <a href="HAWQOverview.html">HAWQ Overview</a>
                  </li>
                  <li>
                     <a href="HAWQQueryProcessing.html">HAWQ Query Processing</a>
                  </li>
                  <li>
                     <a href="UsingHAWQtoQueryData.html">Using HAWQ to Query Data</a>
                  </li>
                  <li>
                     <a href="UsingProceduralLanguages.html">Using Procedural Languages</a>
                  </li>
                  <li>
                     <a href="ConfiguringClientAuthentication.html">Configuring Client Authentication</a>
                  </li>
                  <li>
                     <a href="ConfiguringKerberosAuthentication.html">Configuring Kerberos Authentication</a>
                  </li>
                  <li>
                     <a href="ConfiguringLDAPAuthentication.html">Configuring LDAP Authentication</a>
                  </li>
                  <li>
                     <a href="BackingUpandRestoringHAWQDatabases.html">Backing Up and Restoring HAWQ Databases</a>
                  </li>
                  <li>
                     <a href="ExpandingtheHAWQSystem.html">Expanding the HAWQ System</a>
                  </li>
                  <li>
                     <a href="HAWQInputFormatforMapReduce.html">HAWQ InputFormat for MapReduce</a>
                  </li>
                  <li>
                     <a href="HAWQFilespacesandHighAvailabilityEnabledHDFS.html">HAWQ Filespaces and High Availability Enabled HDFS</a>
                  </li>
                  <li>
                     <a href="SQLCommandReference.html">SQL Command Reference</a>
                     <ul>
                        <li>
                           <a href="ABORT.html">ABORT</a>
                        </li>
                        <li>
                           <a href="ANALYZE.html">ANALYZE</a>
                        </li>
                        <li>
                           <a href="ALTERAGGREGATE.html">ALTER AGGREGATE</a>
                        </li>
                        <li>
                           <a href="ALTERFUNCTION.html">ALTER FUNCTION</a>
                        </li>
                        <li>
                           <a href="ALTEROPERATOR.html">ALTER OPERATOR</a>
                        </li>
                        <li>
                           <a href="ALTEROPERATORCLASS.html">ALTER OPERATOR CLASS</a>
                        </li>
                        <li>
                           <a href="ALTERROLE.html">ALTER ROLE</a>
                        </li>
                        <li>
                           <a href="ALTERTABLE.html">ALTER TABLE</a>
                        </li>
                        <li>
                           <a href="ALTERTABLESPACE.html">ALTER TABLESPACE</a>
                        </li>
                        <li>
                           <a href="ALTERTYPE.html">ALTER TYPE</a>
                        </li>
                        <li>
                           <a href="ALTERUSER.html">ALTER USER</a>
                        </li>
                        <li>
                           <a href="BEGIN.html">BEGIN</a>
                        </li>
                        <li>
                           <a href="CHECKPOINT.html">CHECKPOINT</a>
                        </li>
                        <li>
                           <a href="CLOSE.html">CLOSE</a>
                        </li>
                        <li>
                           <a href="COMMIT.html">COMMIT</a>
                        </li>
                        <li>
                           <a href="COPY.html">COPY</a>
                        </li>
                        <li>
                           <a href="CREATEAGGREGATE.html">CREATE AGGREGATE</a>
                        </li>
                        <li>
                           <a href="CREATEDATABASE.html">CREATE DATABASE</a>
                        </li>
                        <li>
                           <a href="CREATEEXTERNALTABLE.html">CREATE EXTERNAL TABLE</a>
                        </li>
                        <li>
                           <a href="CREATEFUNCTION.html">CREATE FUNCTION</a>
                        </li>
                        <li>
                           <a href="CREATEGROUP.html">CREATE GROUP</a>
                        </li>
                        <li>
                           <a href="CREATELANGUAGE.html">CREATE LANGUAGE</a>
                        </li>
                        <li>
                           <a href="CREATEOPERATOR.html">CREATE OPERATOR</a>
                        </li>
                        <li>
                           <a href="CREATEOPERATORCLASS.html">CREATE OPERATOR CLASS</a>
                        </li>
                        <li>
                           <a href="CREATERESOURCEQUEUE.html">CREATE RESOURCE QUEUE</a>
                        </li>
                        <li>
                           <a href="CREATEROLE.html">CREATE ROLE</a>
                        </li>
                        <li>
                           <a href="CREATESCHEMA.html">CREATE SCHEMA</a>
                        </li>
                        <li>
                           <a href="CREATESEQUENCE.html">CREATE SEQUENCE</a>
                        </li>
                        <li>
                           <a href="CREATETABLE.html">CREATE TABLE</a>
                        </li>
                        <li>
                           <a href="CREATETABLEAS.html">CREATE TABLE AS</a>
                        </li>
                        <li>
                           <a href="CREATETABLESPACE.html">CREATE TABLESPACE</a>
                        </li>
                        <li>
                           <a href="CREATETYPE.html">CREATE TYPE</a>
                        </li>
                        <li>
                           <a href="CREATE-USER.html">CREATE USER</a>
                        </li>
                        <li>
                           <a href="CREATEVIEW.html">CREATE VIEW</a>
                        </li>
                        <li>
                           <a href="DEALLOCATE.html">DEALLOCATE</a>
                        </li>
                        <li>
                           <a href="DECLARE.html">DECLARE</a>
                        </li>
                        <li>
                           <a href="DROPAGGREGATE.html">DROP AGGREGATE</a>
                        </li>
                        <li>
                           <a href="DROPDATABASE.html">DROP DATABASE</a>
                        </li>
                        <li>
                           <a href="DROPEXTERNALTABLE.html">DROP EXTERNAL TABLE</a>
                        </li>
                        <li>
                           <a href="DROPFILESPACE.html">DROP FILESPACE</a>
                        </li>
                        <li>
                           <a href="DROPFUNCTION.html">DROP FUNCTION</a>
                        </li>
                        <li>
                           <a href="DROPGROUP.html">DROP GROUP</a>
                        </li>
                        <li>
                           <a href="DROPOPERATOR.html">DROP OPERATOR</a>
                        </li>
                        <li>
                           <a href="DROPOPERATORCLASS.html">DROP OPERATOR CLASS</a>
                        </li>
                        <li>
                           <a href="DROPOWNED.html">DROP OWNED</a>
                        </li>
                        <li>
                           <a href="DROPRESOURCEQUEUE.html">DROP RESOURCE QUEUE</a>
                        </li>
                        <li>
                           <a href="DROPROLE.html">DROP ROLE</a>
                        </li>
                        <li>
                           <a href="DROPSCHEMA.html">DROP SCHEMA</a>
                        </li>
                        <li>
                           <a href="DROPSEQUENCE.html">DROP SEQUENCE</a>
                        </li>
                        <li>
                           <a href="DROPTABLE.html">DROP TABLE</a>
                        </li>
                        <li>
                           <a href="DROPTABLESPACE.html">DROP TABLESPACE</a>
                        </li>
                        <li>
                           <a href="DROPTYPE.html">DROP TYPE</a>
                        </li>
                        <li>
                           <a href="DROP-USER.html">DROP USER</a>
                        </li>
                        <li>
                           <a href="DROPVIEW.html">DROP VIEW</a>
                        </li>
                        <li>
                           <a href="END.html">END</a>
                        </li>
                        <li>
                           <a href="EXECUTE.html">EXECUTE</a>
                        </li>
                        <li>
                           <a href="EXPLAIN.html">EXPLAIN</a>
                        </li>
                        <li>
                           <a href="FETCH.html">FETCH</a>
                        </li>
                        <li>
                           <a href="GRANT.html">GRANT</a>
                        </li>
                        <li>
                           <a href="INSERT.html">INSERT</a>
                        </li>
                        <li>
                           <a href="PREPARE.html">PREPARE</a>
                        </li>
                        <li>
                           <a href="REASSIGNOWNED.html">REASSIGN OWNED</a>
                        </li>
                        <li>
                           <a href="RELEASESAVEPOINT.html">RELEASE SAVEPOINT</a>
                        </li>
                        <li>
                           <a href="RESET.html">RESET</a>
                        </li>
                        <li>
                           <a href="REVOKE.html">REVOKE</a>
                        </li>
                        <li>
                           <a href="ROLLBACK.html">ROLLBACK</a>
                        </li>
                        <li>
                           <a href="ROLLBACKTOSAVEPOINT.html">ROLLBACK TO SAVEPOINT</a>
                        </li>
                        <li>
                           <a href="SAVEPOINT.html">SAVEPOINT</a>
                        </li>
                        <li>
                           <a href="SELECT.html">SELECT</a>
                        </li>
                        <li>
                           <a href="SELECTINTO.html">SELECT INTO</a>
                        </li>
                        <li>
                           <a href="SET.html">SET</a>
                        </li>
                        <li>
                           <a href="SETROLE.html">SET ROLE</a>
                        </li>
                        <li>
                           <a href="SETSESSIONAUTHORIZATION.html">SET SESSION AUTHORIZATION</a>
                        </li>
                        <li>
                           <a href="SHOW.html">SHOW</a>
                        </li>
                        <li>
                           <a href="TRUNCATE.html">TRUNCATE</a>
                        </li>
                        <li>
                           <a href="VACUUM.html">VACUUM</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="ManagementUtilityReference.html">Management Utility Reference</a>
                     <ul>
                        <li>
                           <a href="gpactivatestandby.html">gpactivatestandby</a>
                        </li>
                        <li>
                           <a href="gpcheckperf.html">gpcheckperf</a>
                        </li>
                        <li>
                           <a href="gpconfig.html">gpconfig</a>
                        </li>
                        <li>
                           <a href="gpexpand.html">gpexpand</a>
                        </li>
                        <li>
                           <a href="gpextract.html">gpextract</a>
                        </li>
                        <li>
                           <a href="gpfdist.html">gpfdist</a>
                        </li>
                        <li>
                           <a href="gpfilespace.html">gpfilespace</a>
                        </li>
                        <li>
                           <a href="gpinitstandby.html">gpinitstandby</a>
                        </li>
                        <li>
                           <a href="gpinitsystem.html">gpinitsystem</a>
                        </li>
                        <li>
                           <a href="gpload.html">gpload</a>
                        </li>
                        <li>
                           <a href="gplogfilter.html">gplogfilter</a>
                        </li>
                        <li>
                           <a href="gprecoverseg.html">gprecoverseg</a>
                        </li>
                        <li>
                           <a href="gpscp.html">gpscp</a>
                        </li>
                        <li>
                           <a href="gpstart.html">gpstart</a>
                        </li>
                        <li>
                           <a href="gpssh.html">gpssh</a>
                        </li>
                        <li>
                           <a href="gssh-exkeys.html">gssh-exkeys</a>
                        </li>
                        <li>
                           <a href="gpstate.html">gpstate</a>
                        </li>
                        <li>
                           <a href="gpstop.html">gpstop</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="ClientUtilityReference.html">Client Utility Reference</a>
                     <ul>
                        <li>
                           <a href="createdb.html">createdb</a>
                        </li>
                        <li>
                           <a href="createlang.html">createlang</a>
                        </li>
                        <li>
                           <a href="createuser.html">createuser</a>
                        </li>
                        <li>
                           <a href="dropdb.html">dropdb</a>
                        </li>
                        <li>
                           <a href="dropuser.html">dropuser</a>
                        </li>
                        <li>
                           <a href="pg_dump.html">pg_dump</a>
                        </li>
                        <li>
                           <a href="pg_dumpall.html">pg_dumpall</a>
                        </li>
                        <li>
                           <a href="pg_restore.html">pg_restore</a>
                        </li>
                        <li>
                           <a href="psql.html">psql</a>
                        </li>
                        <li>
                           <a href="vacuumdb.html">vacuumdb</a>
                        </li>
                     </ul>
                  </li>
                  <li>
                     <a href="HAWQServerConfigurationParameters.html">HAWQ Server Configuration Parameters</a>
                  </li>
                  <li>
                     <a href="CharacterSetSupportReference.html">Character Set Support Reference</a>
                  </li>
                  <li>
                     <a href="HAWQEnvironmentVariables.html">HAWQ Environment Variables</a>
                  </li>
                  <li>
                     <a href="HAWQDataTypes.html">HAWQ Data Types</a>
                  </li>
                  <li>
                     <a href="SystemCatalogReference.html">System Catalog Reference</a>
                  </li>
                  <li>
                     <a href="hawq_toolkitReference.html">hawq_toolkit Reference</a>
                  </li>
                  <li>
                     <a href="ManagingHAWQLogFiles.html">Managing HAWQ Log Files</a>
                  </li>
               </ul>
            </li>
            <li>
               <a href="PivotalExtensionFrameworkPXF.html">Pivotal Extension Framework (PXF)</a>
               <ul>
                  <li>
                     <a href="PXFInstallationandAdministration.html">PXF Installation and Administration</a>
                  </li>
                  <li>
                     <a href="PXFExternalTableandAPIReference.html">PXF External Table and API Reference</a>
                  </li>
               </ul>
            </li>
         </ul>

</div>
   
	
	
	<main class="content content-layout" id="js-content" role="main">
        <a id="top"></a>
        
          <h1 class="title-container">PHD Troubleshooting</h1>
          <div id="js-quick-links"></div>          
        
        <div class="to-top" id="js-to-top">
          <a href="#top" title="back to top"></a>
        </div>     
        
		
		<div style="visibility:hidden; height:2px;">Pivotal Product Documentation : PHD Troubleshooting</div><div class="wiki-content group" id="main-content">
<p>This section provides common errors you may receive and how to troubleshoot or workaround those errors.</p><p><style type="text/css">/**/
div.rbtoc1410924385015 {padding: 0px;}
div.rbtoc1410924385015 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1410924385015 li {margin-left: 0px;padding-left: 0px;}

/**/</style><div class="toc-macro rbtoc1410924385015">
<ul class="toc-indentation">
<li><a href="#PHDTroubleshooting-DebuggingErrors">Debugging Errors</a>
<ul class="toc-indentation">
<li><a href="#PHDTroubleshooting-PivotalHDInstallation">Pivotal HD Installation</a></li>
<li><a href="#PHDTroubleshooting-ClusterDeployment">Cluster Deployment&nbsp;</a></li>
<li><a href="#PHDTroubleshooting-ClusterNodesInstallation">Cluster Nodes Installation</a></li>
<li><a href="#PHDTroubleshooting-ServicesStart">Services Start</a></li>
</ul>
</li>
<li><a href="#PHDTroubleshooting-PuppetSSLErrors">Puppet SSL Errors</a></li>
<li><a href="#PHDTroubleshooting-Upgrade/ReconfigureErrors">Upgrade/Reconfigure Errors</a>
<ul class="toc-indentation">
<li><a href="#PHDTroubleshooting-FollowinganupgradeofCommandCenter,unabletoStart/Stopclusterwithinvalidhostnames">Following an upgrade of Command Center, unable to Start/Stop cluster with invalid hostnames</a></li>
<li><a href="#PHDTroubleshooting-OtherUpgrade/ReconfigureErrors">Other Upgrade/Reconfigure Errors</a></li>
</ul>
</li>
<li><a href="#PHDTroubleshooting-HA-relatedErrors">HA-related Errors</a></li>
<li><a href="#PHDTroubleshooting-OtherErrors">Other Errors</a>
<ul class="toc-indentation">
<li><a href="#PHDTroubleshooting-CommandCenterInstallationfailsduetofaileddependencies">Command Center Installation fails due to failed dependencies</a></li>
<li><a href="#PHDTroubleshooting-ClusterDeploymentfailsduetoRPMDependencies">Cluster Deployment fails due to&nbsp;RPM Dependencies</a></li>
<li><a href="#PHDTroubleshooting-UnabletoaccesstheNamenodeStatusWebpage">Unable to access the Namenode Status Web page</a></li>
<li><a href="#PHDTroubleshooting-InstallationFailsduetoDirectoryPermissions">Installation Fails due to Directory Permissions</a></li>
<li><a href="#PHDTroubleshooting-DeploymentFailsduetoProblemswithYUMRepository">Deployment Fails due to Problems with YUM Repository</a></li>
<li><a href="#PHDTroubleshooting-InstallationFailsduetoProblemswiththeSSLcertificate">Installation Fails due to Problems with the SSL certificate</a></li>
<li><a href="#PHDTroubleshooting-ClusterNodeInstallationFailurewithoutGeneratingaLogFile">Cluster Node Installation Failure&nbsp;without Generating a&nbsp;Log File</a></li>
<li><a href="#PHDTroubleshooting-Puppetcertificatefailure">Puppet certificate failure</a></li>
<li><a href="#PHDTroubleshooting-PackageBundleNotFound">Package Bundle Not Found</a></li>
<li><a href="#PHDTroubleshooting-ClusterDeploymentFailsduetoMissingPackages">Cluster Deployment Fails due to Missing Packages</a></li>
<li><a href="#PHDTroubleshooting-WorkingwithProxyServers">Working with Proxy Servers</a></li>
<li><a href="#PHDTroubleshooting-CapitalLettersinHostname">Capital Letters in Hostname</a></li>
<li><a href="#PHDTroubleshooting-ResolvingpostgresportConflictIssue">Resolving postgres port Conflict Issue</a></li>
<li><a href="#PHDTroubleshooting-ResolvingHTTPPortConflict">Resolving HTTP Port Conflict</a></li>
<li><a href="#PHDTroubleshooting-ErrorslikeAmbit:PushFailed">Errors like Ambit: Push Failed</a></li>
<li><a href="#PHDTroubleshooting-PreparehostsErrorsOutWhileCreatinggpadminUser">Preparehosts Errors Out While Creating gpadmin User</a></li>
<li><a href="#PHDTroubleshooting-HAWQInitializationFailing">HAWQ Initialization Failing</a></li>
<li><a href="#PHDTroubleshooting-InstallingHAWQonDirtyClusterNodesPreviouslyConfiguredwithHAWQ">Installing HAWQ on Dirty Cluster Nodes Previously Configured with HAWQ</a></li>
<li><a href="#PHDTroubleshooting-ErrorsRelatedtoVMMemory">Errors Related to VM Memory</a></li>
</ul>
</li>
</ul>
</div></p><h2 id="PHDTroubleshooting-DebuggingErrors">Debugging Errors</h2><p>Pivotal Command Center has many different log files. Finding the exact log may initially be challenging at the beginning.</p><p>Here is a quick guide on how to identify the issues:</p><h3 id="PHDTroubleshooting-PivotalHDInstallation">Pivotal HD Installation</h3><p>All installation errors will be logged under:<br> <code>/var/log/gphd/gphdmgr/installer.log</code></p><h3 id="PHDTroubleshooting-ClusterDeployment">Cluster Deployment<em>&nbsp; </em></h3><p>If you see a 500 Internal Server Error, check the following logs for details:<br> <code>/var/log/gphd/gphdmgr/gphdmgr-webservices.log</code></p><p>If you see Puppet cert generation errors, check<br> <code>/var/log/gphd/gphdmgr/gphdmgr-webservices.log</code></p><p>If config properties are not making it into the cluster nodes, check<br> <code>/var/log/gphd/gphdmgr/gphdmgr-webservices.log</code></p><p>If you see <code>GPHDClusterInstaller.py</code> script execution error, check<br> <code>/var/log/gphd/gphdmgr/GPHDClusterInstaller_XXX.log</code></p><p>Sometimes <code>/var/log/messages</code> can also have good information, especially if the deployment fails during the puppet deploy stage.</p><p>In general if something fails on the server side, look at the logs in this order:<br> <code>/var/log/gphd/gphdmgr/gphdmgr-webservices.log </code> <br> <code> /var/log/gphd/gphdmgr/GPHDClusterInstaller_XXX.log </code> <br> <code> /var/log/messages</code></p><p><span class="confluence-anchor-link" id="PHDTroubleshooting-ClusterNodesInstallation"></span></p><h3 id="PHDTroubleshooting-ClusterNodesInstallation">Cluster Nodes Installation<em> <br> </em></h3><p>If there are no errors on the admin side, but the installation failed on the cluster nodes, check the latest log file:<br> <code>/tmp/GPHDNodeInstaller_XXX.log</code></p><p>Search for the first occurrence of the word <code>merr;</code> that will point to the most probable issue.</p><h3 id="PHDTroubleshooting-ServicesStart">Services Start</h3><p>Check for the corresponding log file under<code> /var/log/gphd/</code> directory.</p><p>For example, if the namenode doesn't start, look at the<code> /var/log/gphd/hadoop-hdfs/hadoop-hdfs-namenode-hostname.log</code> file for details.</p><p><span class="confluence-anchor-link" id="PHDTroubleshooting-PuppetErrors"></span></p><h2 id="PHDTroubleshooting-PuppetSSLErrors">Puppet SSL Errors</h2><p>For errors like:<br> <code>"Unable to generate certificates" </code> <br> <code> "SSLv3 authentication issues on the client"</code></p><p>As <code>root</code>, do the following:</p><p>Ensure the hostname on all machines is a fully qualified domain name. (see the <code>HOSTNAME</code> field in <code>/etc/sysconfig/network.</code>)</p><p>Run:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">service commander stop
</pre>
</div></div><p>On <strong>all machines including cluster nodes</strong>, run:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">rm -rf /var/lib/puppet/ssl-icm/*
</pre>
</div></div><p><strong>On the admin node</strong>, ensure there is no puppet master process running by running:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">ps ef | grep puppet
</pre>
</div></div><p>If there is, <code>kill -9 </code>any running puppet process:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">ps -ef|grep puppet|awk '{print $2}'|xargs kill -9</pre>
</div></div><p>Make sure there are no certificates listed by running:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">puppetca list --all&nbsp;
</pre>
</div></div><p>You can run&nbsp;<code>puppetca clean --all&nbsp;</code>to clean any certificates</p><p>Restart the puppet master:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">service puppetmaster start&nbsp;
</pre>
</div></div><p>Verify there is just one certificate:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">puppetca list --all
</pre>
</div></div><p>Stop the puppet master and start nmon:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">service puppetmaster stop

service commander start
</pre>
</div></div><p>Now retry your deployment.</p><h2 id="PHDTroubleshooting-Upgrade/ReconfigureErrors">Upgrade/Reconfigure Errors</h2><h3 id="PHDTroubleshooting-FollowinganupgradeofCommandCenter,unabletoStart/Stopclusterwithinvalidhostnames">Following an upgrade of Command Center, unable to Start/Stop cluster with invalid hostnames</h3><p>This is because there is now a check for invalid characters in cluster names.</p><p><strong>Workaround</strong>: First reconfigure the cluster to a different name:</p><div><p>&nbsp;</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">icm_client reconfigure -l &lt;old_cluster_name&gt; -c &lt;config directory with new clustername&gt;</pre>
</div></div><p>Then try starting/stopping the cluster:</p></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">icm_client start -l &lt;cluster_name&gt;
icm_client stop -l &lt;cluster_name&gt;</pre>
</div></div><h3 id="PHDTroubleshooting-OtherUpgrade/ReconfigureErrors">Other Upgrade/Reconfigure Errors</h3><div><p>After upgrading PHD stack from 1.0.2 to 1.0.3 release, hbase master fails to start if hbase-master is not co-located with either namenode or datanode.</p><p><strong>Workaround</strong>: On hbase-master node, run:<code> yum upgrade hadoop-hdfs</code>. Go to the&nbsp;<code>/usr/lib/gphd</code> directory. Point the <code>hadoop-hdfs</code> symlink to the newer <code>hadoop-hdfs</code> version.</p></div><p>If you see a <code>hostRoleMapping should not be changed for other services</code> error, make sure the <code>clusterConfig.xml</code> file has not been changed for any of the already existing services. Even if it is the same set of hosts, but in a different order, make sure you maintain the order in the comma separated list.</p><p>If you see <code>ERROR:Fetching hadoop rpm name on namenode: &lt;<em>host</em>&gt;&nbsp;failed</code> error, it is most likely a case where the cluster was being upgraded from 1.0.0 to 1.0.2 and there was an error during upgrade.</p><p><strong>Workaround</strong>: Run <code>yum install hadoop-2.0.2_alpha_gphd_2_0_1_0-14.x86_64</code> on the namenode and retry upgrade.</p><p>If you are upgrading a cluster with HBase, Hive, or PFX configured as a service, you must manually reinstall those services. See&nbsp;<a href="UpgradingPHD2.0.xto2.1.0.html">Upgrading PHD 2.0.x to 2.1.0</a> for details.</p><h2 id="PHDTroubleshooting-HA-relatedErrors">HA-related Errors</h2><p>If the cluster fails to start with HA enabled:</p><ul><li>Check the status of the journal node (<code>/etc/init.d/hadoop-hdfs-journalnode</code> status) on all hosts and ensure they are running.&nbsp;</li><li>Check if the "namenode" (configured as <code>namenodeid1</code> in <code>clusterconfig.xml</code>) is formatted and successfully started. Be sure to check <code>/var/log/gphd/gphdmgr/gphdmgr-webservices.log</code> and, if needed, the namenode logs on the namenode host: <code>/usr/lib/gphd/hadoop/logs/hadoop-hdfs-namenode*log</code></li><li>Check if the "standbynamenode" (configured as <code>namenodeid2</code> in <code>clusterconfig.xml</code>)&nbsp;is formatted and successfully started. The namenode logs should have details on any errors, if the standbynamenode failed to format or start.</li><li>If standbynamenode fails to start because it is not formatted and restarting the cluster does not format the name node, please contact support team for help.</li><li>If you are converting a non-HA cluster to HA, please follow the documented steps. It is important to start the journal nodes and initialize the edit logs from the namenode of the existing cluster before starting the cluster.</li></ul><h2 id="PHDTroubleshooting-OtherErrors">Other Errors</h2><h3 id="PHDTroubleshooting-CommandCenterInstallationfailsduetofaileddependencies">Command Center Installation fails due to failed dependencies</h3><p>If, during the installation of PCC, you receive a facter mismatch error like the following:</p><div><p style="margin-left: 30.0px;"><code>PCC-2.2.0-175]# rpm -ev facter&nbsp;</code></p><p style="margin-left: 30.0px;"><code>error: Failed dependencies: </code></p><p style="margin-left: 30.0px;"><code> <span>&nbsp;</span>facter &gt;= 1.5 is needed by (installed) puppet-2.7.9-1.el6.noarch</code></p><p>Remove facter using the command:</p><p style="margin-left: 30.0px;"><code>yum erase facter</code></p><p>Then run the PCC installation again.</p></div><h3 id="PHDTroubleshooting-ClusterDeploymentfailsduetoRPMDependencies">Cluster Deployment fails due to&nbsp;RPM Dependencies</h3><p>Ensure that the base OS repo is available. You might have to mount the CD that comes with the OS installation or point yum&nbsp;to the correct location, such as the NFS mount point on all the cluster nodes.</p><h3 id="PHDTroubleshooting-UnabletoaccesstheNamenodeStatusWebpage">Unable to access the Namenode Status Web page</h3><p>If the host returns a short hostname instead of FQDN for <code>hostname()</code>, it is possible that the namenode status link cannot be accessed from external networks.</p><p>The solution is to either ensure that the <code>hostname()</code> returns FQDN on the namenode host, or change the <code>dfs.http.address</code> value to <code>0.0.0.0</code> in the<code> hdfs-site.xml</code> and restart namenode.</p><p><code>&lt;property&gt;</code> <br> <code> &lt;name&gt;dfs.http.address&lt;/name&gt;</code> <br> <code> &lt;value&gt;0.0.0.0:50070&lt;/value&gt;</code> <br> <code> &lt;/property&gt;</code></p><h3 id="PHDTroubleshooting-InstallationFailsduetoDirectoryPermissions">Installation Fails due to Directory Permissions</h3><p>Check if the umask is set to 0022. If not, set the umask in the <code>.bashrc</code> as "umask 0022", then retry the PCC installation.</p><h3 id="PHDTroubleshooting-DeploymentFailsduetoProblemswithYUMRepository">Deployment Fails due to Problems with YUM Repository</h3><p>Verify that the admin node is reachable from the agent node.</p><p>If you have configured proxy servers, refer to the section titled <a class="active" href="PHDTroubleshooting.html">Working with Proxy Servers</a>.</p><h3 id="PHDTroubleshooting-InstallationFailsduetoProblemswiththeSSLcertificate">Installation Fails due to Problems with the SSL certificate</h3><p>Check if <code>dnsdomainname</code> returns an empty value. If yes, you need to ensure that the <code>dnsdomainname</code> returns the correct domain.</p><h3 id="PHDTroubleshooting-ClusterNodeInstallationFailurewithoutGeneratingaLogFile">Cluster Node Installation Failure&nbsp;without Generating a&nbsp;Log File</h3><p>Ensure that passwordless ssh is setup between the admin node and the cluster nodes.</p><p>Ensure that the puppet, facter and ruby rpms are the same as that on the admin node</p><p>Ensure that the user <code>gpadmin</code> has sudo and no requiretty access on the cluster node (check for the existence of file: <code>/etc/sudoers.d/gpadmin</code>)</p><p>Then, retry the deployment.</p><h3 id="PHDTroubleshooting-Puppetcertificatefailure">Puppet certificate failure</h3><p>Follow the instructions in the <a class="active" href="PHDTroubleshooting.html">Puppet SSL Errors</a> section.</p><h3 id="PHDTroubleshooting-PackageBundleNotFound">Package Bundle Not Found</h3><p>If you sudo into the system as root, ensure that you sudo with the environment. That is:<code> sudo su -</code>&nbsp; Do not forget the hyphen&nbsp;at the end.</p><p>If you directly login as root with the password and you still see the above issue, check if the&nbsp;<code>/usr/local/bin/bundle</code> exists. &nbsp;If not, build it:</p><p><code>gem install bundler</code></p><p>Add <code>/usr/local/bin</code> to <code>PATH</code>, regardless:<code> []# vi ~/.bashrc</code></p><p>Append <code>export PATH=$PATH:/usr/local/bin</code>, then save</p><p><code>[]# source ~/.bashrc</code></p><h3 id="PHDTroubleshooting-ClusterDeploymentFailsduetoMissingPackages">Cluster Deployment Fails due to Missing Packages</h3><p>The above error can be identified by following the instructions on&nbsp;<a class="active" href="PHDTroubleshooting.html">Cluster Nodes Installation</a> errors section above.</p><p>Install <em>nc</em> and <em>postgres-devel</em> packages on all the cluster nodes or point them to a repo that contains the rpms.</p><p><span class="confluence-anchor-link" id="PHDTroubleshooting-WorkingProxyServers"></span></p><h3 id="PHDTroubleshooting-WorkingwithProxyServers">Working with Proxy Servers</h3><p>It is sometimes required that all outgoing http traffic use a HTTP proxy. PCC installer sometimes pulls rpms from an external repos such as an EPEL6 repo if the external repos are configured and if any packages are missing on the host.</p><p>If you configure the proxy settings in <code>/etc/yum.conf</code>&nbsp;for the cluster node, cluster deployments might fail because yum will send all <code>gphd.repo</code> requests to the proxy, which in turn will fail to connect to the admin node's local repo.</p><p>Here are a few workarounds:</p><p><strong>Workaround 1</strong></p><ul class="alternate"><li>Remove the proxy settings from <code>yum.conf</code> and</li><li>Make sure following params are set in <code>~root/.bashr</code>c</li></ul><p style="margin-left: 30.0px;">For example:<br> <code>export http_proxy=<span class="nolink">http://proxy:3333</span> </code> <br> <code> export no_proxy=local.domain ## this is the local domain for hadoop cluster</code></p><ul class="alternate"><li>Modify these files so <code>gphd.repo</code> gets pushed out with a FQDN name instead of shortname:<br> <code>/etc/puppet/modules/yumrepo/templates/yumrepo.erb</code></li></ul><p style="margin-left: 30.0px;">Change from:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">baseurl=http://&lt;%= scope.lookupvar("params::config::admin_host")  %&gt;/&lt;%= scope.lookupvar("params::config::repopath") %&gt;
</pre>
</div></div><p style="margin-left: 30.0px;">Change to:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">&lt;replace node.full.domain.com&gt; with the FQDN of the admin node
baseurl=http://node.full.domain.com/&lt;%= scope.lookupvar("params::config::repopath") %&gt;
</pre>
</div></div><p><strong>Workaround 2</strong></p><ul class="alternate"><li>Enable NFS and export <code>/usr/lib/gphd/rpms</code> to all cluster nodes.</li><li>Mount the nfs repo on all cluster nodes:</li></ul><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mount gpcc:/usr/lib/gphd/rpms /local_repo
</pre>
</div></div><ul class="alternate"><li>Modify these files:<br> <code>/etc/puppet/modules/yumrepo/templates/yumrepo.erb</code></li></ul><p style="margin-left: 30.0px;">Change from:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">baseurl=http://&lt;%= scope.lookupvar("params::config::admin_host")  %&gt;/&lt;%= scope.lookupvar("params::config::repopath") %&gt;
</pre>
</div></div><p style="margin-left: 30.0px;">Change to:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">baseurl={nolink:file:///local_repo/}
</pre>
</div></div><h3 id="PHDTroubleshooting-CapitalLettersinHostname">Capital Letters in Hostname</h3><p>PCC fails to deploy if the hostnames contain uppercase letters. For example: <code>Node0781.domain.com</code>.</p><p>Rename the hostname with only lowercase letters before proceeding with the deployment.</p><h3 id="PHDTroubleshooting-ResolvingpostgresportConflictIssue">Resolving postgres port Conflict Issue</h3><p>If you face a postgres port conflict or wish to change the default postgres port, follow the steps below:</p><ol><li><p>Stop PCC service:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">root# service commander stop</pre>
</div></div></li><li><p>Add the new port <code>&lt;hostname&gt;:5435</code> in the Pivotal HD properties file: <code> <br>vim /etc/gphd/gphdmgr/conf/gphdmgr.properties</code></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">gphdmgr.db.url=jdbc:postgresql://localhost:5435/gphdmgr  </pre>
</div></div></li><li>Change the port number in <code>postgresql.conf</code>:<br><p><code>vim /var/lib/pgsql/data/postgresql.conf "port = 5435" <br> <br> </code></p></li><li><p>Edit the <code>init.d/postgresql</code> file:<code> <br> <br>vim /etc/init.d/postgresql</code></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">#Change the PGPORT to 5435 "PGPORT=5435" &nbsp;
root# service commander start</pre>
</div></div></li></ol><h3 id="PHDTroubleshooting-ResolvingHTTPPortConflict">Resolving HTTP Port Conflict</h3><p>Check the FAQ section:&nbsp;How do I change the port used by Pivotal HD?</p><h3 id="PHDTroubleshooting-ErrorslikeAmbit:PushFailed">Errors like <strong> <code>Ambit: Push Failed</code> </strong></h3><p>If you see errors like the following:</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">root# icm_client add-user-gpadmin -f hosts
Ambit : Push Failed
Had : Push Failed
Issues : Push Failed
Generating : Push Failed
A : Push Failed
List : Push Failed
</pre>
</div></div><p>This is an ambit bug. If there are hostnames (only the name part, not the domain) that are substrings of other hostnames, then this issue can occur.</p><p>For example: <code>host1.emc.com</code>, <code>host11.emc.com</code></p><p>This error can be ignored for now as the actual deployment still goes through.</p><h3 id="PHDTroubleshooting-PreparehostsErrorsOutWhileCreatinggpadminUser">Preparehosts Errors Out While Creating gpadmin User</h3><p>Make sure SELinux needs to be either disabled or in permissive mode for the hosts.&nbsp;</p><p>(See the <em><a href="PCCUserGuide.html">Pivotal Command Center User Guide</a></em> for instructions to disable SELinux.)</p><h3 id="PHDTroubleshooting-HAWQInitializationFailing">HAWQ Initialization Failing</h3><p>Make sure your cluster is up and running with the Hadoop services, prior to initializing HAWQ (<code>hawq init</code>). If the failure still persists, make sure the HAWQ nodes have been prepared (<a href="DeployingtheCluster.html">Deploying the Cluster</a>, <code>icm_client deploy</code> syntax) to reflect the kernel configurations required for HAWQ. If you still have a problem, you might be running short of the memory required to run HAWQ at scale. Refer to <em><a href="HAWQAdministration.html">HAWQ Administration</a></em> to configure/modify the system memory requirements.</p><h3 id="PHDTroubleshooting-InstallingHAWQonDirtyClusterNodesPreviouslyConfiguredwithHAWQ">Installing HAWQ on Dirty Cluster Nodes Previously Configured with HAWQ</h3><p>If you wish to deploy or initialize HAWQ on:</p><p>a) A cluster that had an older uninstalled HAWQ cluster, or</p><p>b) A cluster that failed in its attempts to initialize HAWQ</p><p>you will need to perform the following steps before initializing HAWQ with the new cluster nodes:</p><ol><li>Ensure that<code> HAWQ_Hosts.txt</code> contains all the HAWQ hosts that you want to clean up.</li><li>Run the following command against each DIRECTORY configured in <code>&lt;hawq.segment.directory&gt;</code> and in <code>&lt;hawq.master.directory&gt;</code> in the cluster configuration (<code>clusterConfig.xml</code>)</li></ol><p style="margin-left: 30.0px;"><code> <span class="confluence-link">gpadmin</span># massh HAWQ_Hosts.txt verbose 'sudo rm -rf DIRECTORY/*'</code></p><p style="margin-left: 30.0px;">The above command cleans up the stale HAWQ master and segment data directory contents.</p><h3 id="PHDTroubleshooting-ErrorsRelatedtoVMMemory">Errors Related to VM Memory</h3><p style="list-style-type: none;background-image: none;">If you are planning to deploy a HAWQ cluster on VMs that have memory limits lower than the optimized/recommended requirements, you might encounter <code>Could not create the Java virtual machine</code> type errors.&nbsp; In these cases, you can reconfigure memory usage, as follows:</p><ul><li><p>Prior to running the prepare HAWQ utility, open the <code>/usr/lib/gphd/gphdmgr/hawq_sys_config/sysctl.conf</code>&nbsp; file and change the value of the following parameter from 2 to 0:</p><p style="margin-left: 30.0px;"><code>vm.overcommit_memory =2<br> <br> </code></p></li><li>In the <code>clusterConfig.xml</code>, update <code>&lt;hawq.segment.directory&gt;</code> to include only one segment directory entry (instead of the default 2 segments).</li></ul>
</div>
		
		</main>

  </div>

  <script type="text/javascript">
    (function() {
      var didInit = false;
      function initMunchkin() {
        if(didInit === false) {
          didInit = true;
          Munchkin.init('625-IUJ-009');
        }
      }
      var s = document.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
      s.onreadystatechange = function() {
        if (this.readyState == 'complete' || this.readyState == 'loaded') {
          initMunchkin();
        }
      };
      s.onload = initMunchkin;
      document.getElementsByTagName('head')[0].appendChild(s);
    })();
  </script>
</div>
</div>

<div id="scrim"></div>

<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
      <a href="/">Pivotal Documentation</a>
      © 2014 <a href="http://pivotal.io">Pivotal Software</a> Inc. All Rights Reserved.
  </div>
  <div class="support">
    Need help? <a href="http://support.pivotal.io" target="_blank">Visit support</a></div>
  </footer>
</div>

</body>
</html>