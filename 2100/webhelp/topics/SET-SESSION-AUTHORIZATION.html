
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head><meta xmlns="http://www.w3.org/1999/xhtml" name="description" content="Sets the session role identifier and the current role identifier of the current session. Synopsis SET [SESSION | LOCAL] SESSION AUTHORIZATION rolename SET [SESSION | LOCAL] SESSION AUTHORIZATION ..."/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="copyright" content="(C) Copyright 2005"/><meta name="DC.rights.owner" content="(C) Copyright 2005"/><meta name="DC.Type" content="topic"/><meta name="DC.Title" content="SET SESSION AUTHORIZATION"/><meta name="DC.Relation" scheme="URI" content="../topics/SQLCommandReference.html"/><meta name="prodname" content=""/><meta name="version" content="2.1.0"/><meta name="release" content=""/><meta name="modification" content=""/><meta name="DC.Format" content="XHTML"/><meta name="DC.Identifier" content="topic1"/><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>SET SESSION AUTHORIZATION</title><meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Type" content="text/html; charset=utf-8"><!----></meta><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/pivotal.css"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" id="topic1"><script xmlns="http://www.w3.org/1999/xhtml" src="//use.typekit.net/clb0qji.js" type="text/javascript"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  try {
				  Typekit.load();
			  } catch (e) {
			  }
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  document.domain = "pivotal.io";
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			WebFontConfig = {
			  google: { families: [ 'Source+Sans+Pro:300italic,400italic,300,400,600:latin' ] }
			};
			(function() {
			  var wf = document.createElement('script');
			  wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
				'://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
			  wf.type = 'text/javascript';
			  wf.async = 'true';
			  var s = document.getElementsByTagName('script')[0];
			  s.parentNode.insertBefore(wf, s);
			})();
		  </script>
<table class="nav"><tbody><tr><td colspan="2"><div id="permalink"><a href="#" title="Link to this page"/></div><div id="printlink"><a href="javascript:window.print();" title="Print this page"/></div></td></tr><tr><td width="75%"><a class="navheader_parent_path" href="../topics/../topics/HAWQAdministration.html" title="HAWQ Administration">HAWQ Administration</a> / <a class="navheader_parent_path" href="../topics/SQLCommandReference.html" title="SQL Command Reference">SQL Command Reference</a></td><td><div class="navheader">
<span class="navparent"><a class="link" href="../topics/SQLCommandReference.html" title="SQL Command Reference"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">SQL Command Reference</span></a></span>  </div></td></tr></tbody></table>

   <h1 class="title topictitle1">SET SESSION AUTHORIZATION</h1>

   <div class="body">
      <p class="p" id="topic1__sql_command_desc">Sets the session role identifier and the current role identifier of
the current session.</p>

      <div class="section" id="topic1__section2"><h2 class="title sectiontitle">Synopsis</h2>
         
         <pre class="pre codeblock" id="topic1__sql_command_synopsis">SET [SESSION | LOCAL] SESSION AUTHORIZATION <var class="keyword varname">rolename</var>
SET [SESSION | LOCAL] SESSION AUTHORIZATION DEFAULT
RESET SESSION AUTHORIZATION</pre>

      </div>

      <div class="section" id="topic1__section3"><h2 class="title sectiontitle">Description</h2>
         
         <p class="p">This command sets the session role identifier and the current role identifier of the
        current SQL-session context to be <samp class="ph codeph">rolename</samp> . The role name may be written
        as either an identifier or a string literal. Using this command, it is possible, for
        example, to temporarily become an unprivileged user and later switch back to being a
        superuser.</p>

         <p class="p">The session role identifier is initially set to be the (possibly authenticated) role name
        provided by the client. The current role identifier is normally equal to the session user
        identifier, but may change temporarily in the context of setuid functions and similar
        mechanisms; it can also be changed by <samp class="ph codeph">
               <a class="xref" href="SET-ROLE.html">SET ROLE</a>
            </samp>. The current user identifier is relevant for permission
        checking. </p>

         <p class="p">The session user identifier may be changed only if the initial session
user (the authenticated user) had the superuser privilege. Otherwise,
the command is accepted only if it specifies the authenticated user name.
</p>

         <p class="p">The <samp class="ph codeph">DEFAULT</samp> and <samp class="ph codeph">RESET</samp> forms reset
the session and current user identifiers to be the originally authenticated
user name. These forms may be executed by any user.</p>

      </div>

      <div class="section" id="topic1__section4"><h2 class="title sectiontitle">Parameters</h2>
         
         <dl class="dl parml">
            
               <dt class="dt pt dlterm">SESSION</dt>

               <dd class="dd pd">Specifies that the command takes effect for the current session.
This is the default.</dd>

            
            
               <dt class="dt pt dlterm">LOCAL</dt>

               <dd class="dd pd">Specifies that the command takes effect for only the current transaction.
After <samp class="ph codeph">COMMIT</samp> or <samp class="ph codeph">ROLLBACK</samp>, the session-level
setting takes effect again. Note that <samp class="ph codeph">SET LOCAL</samp> will
appear to have no effect if it is executed outside of a transaction.</dd>

            
            
               <dt class="dt pt dlterm">
                  <var class="keyword varname">rolename</var>
               </dt>

               <dd class="dd pd">The name of the role to assume.</dd>

            
            
               <dt class="dt pt dlterm">NONE</dt>

               <dt class="dt pt dlterm">RESET</dt>

               <dd class="dd pd">Reset the session and current role identifiers to be that of the
role used to log in. </dd>

            
         </dl>

      </div>

      <div class="section" id="topic1__section5"><h2 class="title sectiontitle">Examples</h2>
         
         <pre class="pre codeblock">SELECT SESSION_USER, CURRENT_USER;
 session_user | current_user 
--------------+--------------
 peter        | peter

SET SESSION AUTHORIZATION 'paul';

SELECT SESSION_USER, CURRENT_USER;
 session_user | current_user 
--------------+--------------
 paul         | paul</pre>

      </div>

      <div class="section" id="topic1__section6"><h2 class="title sectiontitle">Compatibility</h2>
         
         <p class="p">The SQL standard allows some other expressions to appear in place of the literal
          <var class="keyword varname">rolename</var>, but these options are not important in practice. HAWQ allows
        identifier syntax (<var class="keyword varname">rolename</var>), which SQL does not. SQL does not allow this
        command during a transaction; HAWQ does not make this restriction. The
          <samp class="ph codeph">SESSION</samp> and <samp class="ph codeph">LOCAL</samp> modifiers are a HAWQ extension, as is
        the <samp class="ph codeph">RESET</samp> syntax.</p>

      </div>

      <div class="section" id="topic1__section7"><h2 class="title sectiontitle">See Also</h2>
         
         <p class="p">
            <samp class="ph codeph">
               <a class="xref" href="SET-ROLE.html">SET ROLE</a>
            </samp>
         </p>

      </div>

   </div>

<div class="related-links"/>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../topics/SQLCommandReference.html" title="SQL Command Reference"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">SQL Command Reference</span></a></span>  </div><div>
<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
      <a href="http://docs.pivotal.io" target="_blank">Pivotal Documentation</a>
      Â© 2014 <a href="http://www.pivotal.io/" target="_blank">Pivotal Software</a>, Inc. All Rights Reserved.
  </div>
  <div class="support">
    Need help? <a href="http://support.pivotal.io" target="_blank">Visit Support</a>
   </div>
  </footer>
</div><!--end of container-->
</div>
</body>
</html>