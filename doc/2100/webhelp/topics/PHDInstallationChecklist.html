
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head><meta xmlns="http://www.w3.org/1999/xhtml" name="description" content="The table below briefly describes the tasks you must complete to install PHD. Each task is explained in more detail in subsequent sections; click the task name to jump to those sections. Step Task ..."/><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><meta name="copyright" content="(C) Copyright 2005"/><meta name="DC.rights.owner" content="(C) Copyright 2005"/><meta name="DC.Type" content="topic"/><meta name="DC.Title" content="PHD Installation Checklist"/><meta name="DC.Relation" scheme="URI" content="../topics/InstallingPHDUsingtheCLI.html"/><meta name="prodname" content=""/><meta name="version" content="2.1.0"/><meta name="release" content=""/><meta name="modification" content=""/><meta name="DC.Format" content="XHTML"/><meta name="DC.Identifier" content="phdinstallationchecklist"/><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><title>PHD Installation Checklist</title><meta xmlns="http://www.w3.org/1999/xhtml" http-equiv="Content-Type" content="text/html; charset=utf-8"><!----></meta><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/commonltr.css"><!----></link><link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/webhelp_topic.css"><!----></link><link rel="stylesheet" type="text/css" href="../oxygen-webhelp/resources/css/pivotal.css"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript"><!--
          
          var prefix = "../index.html";
          
          --></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-1.8.2.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery.cookie.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" src="../oxygen-webhelp/resources/js/jquery-ui.custom.min.js"><!----></script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" charset="utf-8" src="../oxygen-webhelp/resources/js/webhelp_topic.js"><!----></script></head>
<body onload="highlightSearchTerm()" id="phdinstallationchecklist"><script xmlns="http://www.w3.org/1999/xhtml" src="//use.typekit.net/clb0qji.js" type="text/javascript"/><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  try {
				  Typekit.load();
			  } catch (e) {
			  }
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			  document.domain = "pivotal.io";
		  </script><script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
			WebFontConfig = {
			  google: { families: [ 'Source+Sans+Pro:300italic,400italic,300,400,600:latin' ] }
			};
			(function() {
			  var wf = document.createElement('script');
			  wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
				'://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
			  wf.type = 'text/javascript';
			  wf.async = 'true';
			  var s = document.getElementsByTagName('script')[0];
			  s.parentNode.insertBefore(wf, s);
			})();
		  </script>
<table class="nav"><tbody><tr><td colspan="2"><div id="permalink"><a href="#">linkToThis</a></div><div id="printlink"><a href="javascript:window.print();">printThisPage</a></div></td></tr><tr><td><div class="navheader">
<span class="navparent"><a class="link" href="../topics/InstallingPHDUsingtheCLI.html" title="Installing PHD Using the CLI"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Installing PHD Using the CLI</span></a></span>  </div></td><td width="75%"><a class="navheader_parent_path" href="../topics/../topics/PHDInstallationandAdministration.html" title="PHD Installation and Administration">PHD Installation and Administration</a> / <a class="navheader_parent_path" href="../topics/InstallingPHDUsingtheCLI.html" title="Installing PHD Using the CLI">Installing PHD Using the CLI</a></td></tr></tbody></table>

   <h1 class="title topictitle1">PHD Installation Checklist</h1>

   <div class="body">
      <p class="p">The table below briefly describes the tasks you must complete to install PHD.</p>

      <p class="p">Each task is explained in more detail in subsequent sections; click the task name to jump
         to those sections.</p>

      
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" id="phdinstallationchecklist__table_y5l_kq4_tp" class="table" frame="border" border="1" rules="all">
            
            
            
            
            <thead class="thead" align="left">
               <tr class="row">
                  <th class="entry confluenceTh" valign="top" width="6.25%" id="d206052e44">Step</th>

                  <th class="entry confluenceTh" valign="top" width="12.5%" id="d206052e47">Task</th>

                  <th class="entry confluenceTh" valign="top" width="68.75%" id="d206052e50">Details</th>

                  <th class="entry confluenceTh" valign="top" width="12.5%" id="d206052e53">Completed</th>

               </tr>

            </thead>

            <tbody class="tbody">
               <tr class="row">
                  <td class="entry confluenceTd" valign="top" width="6.25%" headers="d206052e44 ">1</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e47 ">
                     <a class="xref" href="InstallingPivotalCommandCenter.html">Install Pivotal Command
                        Center</a>
                  </td>

                  <td class="entry confluenceTd" valign="top" width="68.75%" headers="d206052e50 ">As <samp class="ph codeph">root</samp>:<ol class="ol" id="phdinstallationchecklist__ol_yfm_kq4_tp">
                        <li class="li">Create a directory (<samp class="ph codeph">phd</samp>) for your PCC
                           installation:<pre class="pre codeblock"># mkdir phd </pre>
</li>

                        <li class="li">Copy the tar file to your specified directory on the admin node. For
                           example:
                           <pre class="pre codeblock"># scp ./PCC-2.3.x.<var class="keyword varname">version.build.os</var>.x86_64.tar.gz host:/root/phd/ </pre>
</li>

                        <li class="li">Log in as <samp class="ph codeph">root</samp> and untar to that directory:
                           <pre class="pre codeblock"># cd /root/phd
# tar --no-same-owner -zxvf PCC-2.3.x.<var class="keyword varname">version.build.os</var>.x86_64.tar.gz</pre>
</li>

                        <li class="li">Run the installation script from the directory where it was
                           extracted:<pre class="pre codeblock"># ./install</pre>
</li>

                        <li class="li">As the rest of the installation is done as the <samp class="ph codeph">gpadmin</samp>
                           user, change to that user:<pre class="pre codeblock"># su - gpadmin</pre>
</li>

                        <li class="li">If necessary, enable Secure Connections.</li>
</ol>
</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e53 "> </td>

               </tr>

               <tr class="row">
                  <td class="entry confluenceTd" valign="top" width="6.25%" headers="d206052e44 ">2</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e47 ">
                     <a class="xref" href="ConfiguringKerberosandLDAP.html">Configure Kerberos and LDAP</a>
                  </td>

                  <td class="entry confluenceTd" valign="top" width="68.75%" headers="d206052e50 ">On the Admin node, as <samp class="ph codeph">gpadmin</samp>,
                     run: <pre class="pre codeblock">$ icm_client security -i </pre>
<p class="p">You will be prompted
                        through the steps to set up a Kerberos Server if you don't have one for
                        secure cluster configuration. </p>
</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e53 "> </td>

               </tr>

               <tr class="row">
                  <td class="entry confluenceTd" valign="top" width="6.25%" headers="d206052e44 ">3</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e47 ">
                     <a class="xref" href="PHDImportingthePackages.html">Import the Packages</a>
                  </td>

                  <td class="entry confluenceTd" valign="top" width="68.75%" headers="d206052e50 ">Download and copy the PHD and related packages
                     to the Admin node, then import the packages, including a downloaded JDK
                     package, to the Admin node. <p class="p">As <samp class="ph codeph">gpadmin</samp>:</p>
<p class="p"><strong class="ph b">Copy the
                           Packages:</strong></p>
<ol class="ol" id="phdinstallationchecklist__ol_bjm_kq4_tp">
                        <li class="li">Copy the tarballs for the Pivotal HD services (PHD, ADS for HAWQ, and
                           PRTS for GemFire XD) from the initial download location to the
                              <samp class="ph codeph">gpadmin</samp> home directory
                              (<samp class="ph codeph">home/user/gpadmin</samp>).</li>

                        <li class="li">Change the owner of the packages to <samp class="ph codeph">gpadmin</samp>, then untar
                           the tarballs.</li>

                     </ol>
<p class="p">For example, if the file is a <samp class="ph codeph">tar.gz</samp> or
                           <samp class="ph codeph">.tgz</samp> file, use:</p>
<div class="p">
                        <pre class="pre codeblock">tar -zxf packagename.tgz </pre>

                     </div>
<p class="p">If the file is a <samp class="ph codeph">.tar</samp> file, use:</p>
<div class="p">
                        <pre class="pre codeblock">tar -xf packagename.tar </pre>

                     </div>
<p class="p">
                        <strong class="ph b">Import the Packages:</strong>
                     </p>
<div class="p">Deploy the downloaded JDK to the cluster nodes
                        <pre class="pre codeblock">$ icm_client import -r <var class="keyword varname">&lt;PATH_TO_JDK&gt; </var> </pre>
</div>
<div class="p">For
                        each service (PHD, ADS, PRTS) you are importing, run the following:
                        <pre class="pre codeblock">$ icm_client import -s <var class="keyword varname">&lt;PATH_TO_EXTRACTED_SERVICE_TARBALL&gt;</var> </pre>
</div>
</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e53 "> </td>

               </tr>

               <tr class="row">
                  <td class="entry confluenceTd" valign="top" width="6.25%" headers="d206052e44 ">4 </td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e47 ">
                     <a class="xref" href="EditingtheClusterConfigurationFiles.html">Edit the Cluster
                        Configuration Files</a>
                  </td>

                  <td class="entry confluenceTd" valign="top" width="68.75%" headers="d206052e50 ">As <samp class="ph codeph">gpadmin</samp>: <ol class="ol" id="phdinstallationchecklist__ol_hmm_kq4_tp">
                        <li class="li">Fetch the default Cluster Configuration
                           template:<pre class="pre codeblock">$ icm_client fetch-template -o ~/ClusterConfigDir </pre>
</li>

                        <li class="li">Edit the default Cluster Configuration template. <p class="p">At a minimum, you
                              must replace all instances of your selected services with valid
                              hostnames for your deployment.</p>
<div class="note note"><span class="notetitle">Note:</span> 
                              <p class="p"><strong class="ph b">Gemfire XD</strong>: If you want to use GemFire XD, you need to add
                                 that service to the <samp class="ph codeph">clusterConfig.xml</samp> file.  Also,
                                 GemFire XD may fail if it is not co-located with Hive.</p>

                              <p class="p">
                                 <strong class="ph b">High Availability</strong>: As of PHD 2.1, High Availability is
                                 enabled by default.  If you want to disable HA, you need to make
                                 some HA-specific changes to the <samp class="ph codeph">clusterConfig.xml</samp>
                                 file and additionally edit some other configuration files (this can
                                 be done during installation or after). Complete instructions are
                                 available in the <a class="xref" href="HighAvailability.html">High Availability</a>section.</p>

                              <p class="p">
                                 <strong class="ph b">Security</strong>: If you are enabling security, there are some
                                 security-specific changes you need to make to the configuration
                                 file.  Details are provided in <a class="xref" href="EditingtheClusterConfigurationFiles.html">PHD Install 4 - Edit the Cluster Configuration Files</a>
                              </p>

                           </div>
</li>

                        <li class="li"><strong class="ph b">(Optional)</strong> Edit the Hadoop services configuration
                              files.<p class="p">Configure the other stack components in their corresponding
                              configuration files as needed. </p>
</li>

                     </ol>
</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e53 "> </td>

               </tr>

               <tr class="row">
                  <td class="entry confluenceTd" valign="top" width="6.25%" headers="d206052e44 ">5</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e47 ">
                     <a class="xref" href="EditingtheHAWQConfigurationFile.html">Edit the HAWQ Configuration
                        File</a>
                  </td>

                  <td class="entry confluenceTd" valign="top" width="68.75%" headers="d206052e50 ">HAWQ system configuration is defined in
                        <samp class="ph codeph">hawq/gpinitsystem_config</samp>.  Edit this file as
                     needed.</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e53 "> </td>

               </tr>

               <tr class="row">
                  <td class="entry confluenceTd" valign="top" width="6.25%" headers="d206052e44 ">6</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e47 ">
                     <a class="xref" href="ForPXFwithGemFireXD.html">PXF with GemFire XD</a>
                  </td>

                  <td class="entry confluenceTd" valign="top" width="68.75%" headers="d206052e50 ">Add <samp class="ph codeph">'/usr/lib/gphd/gfxd/lib/gemfirexd.jar'</samp> on a new line
                        to <samp class="ph codeph">ClusterConfigDir/pxf/pxf-public.classpath</samp>.</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e53 "> </td>

               </tr>

               <tr class="row">
                  <td class="entry confluenceTd" valign="top" width="6.25%" headers="d206052e44 ">7</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e47 ">
                     <a class="xref" href="DeployingtheCluster.html">Deploy the Cluster</a>
                  </td>

                  <td class="entry confluenceTd" valign="top" width="68.75%" headers="d206052e50 ">As <samp class="ph codeph">gpadmin</samp>,
                        run:<pre class="pre codeblock">$ icm_client deploy -c ~/ClusterConfigDir</pre>
<div class="note note"><span class="notetitle">Note:</span> This
                        command creates the <samp class="ph codeph">gpadmin</samp> user on the cluster nodes. Do
                        NOT create this user manually. If <samp class="ph codeph">gpadmin</samp> already exists on
                        the cluster nodes, delete the user before running this
                     command.</div>
</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e53 "> </td>

               </tr>

               <tr class="row">
                  <td class="entry confluenceTd" valign="top" width="6.25%" headers="d206052e44 ">8</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e47 ">
                     <a class="xref" href="StartingtheCluster.html">Start the Cluster</a>
                  </td>

                  <td class="entry confluenceTd" valign="top" width="68.75%" headers="d206052e50 ">As <samp class="ph codeph">gpadmin</samp>,
                     run:<pre class="pre codeblock">$ icm_client start -l <var class="keyword varname">&lt;CLUSTERNAME&gt;</var></pre>
</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e53 "> </td>

               </tr>

               <tr class="row">
                  <td class="entry confluenceTd" valign="top" width="6.25%" headers="d206052e44 ">9</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e47 ">
                     <a class="xref" href="InitializingandStartingHAWQ.html">Initialize and Start HAWQ</a>
                  </td>

                  <td class="entry confluenceTd" valign="top" width="68.75%" headers="d206052e50 ">As <samp class="ph codeph">gpadmin</samp>:<ol class="ol" id="phdinstallationchecklist__ol_dlh_22w_tp">
                        <li class="li">First verify HDFS is
                           running:<pre class="pre codeblock">$ ssh <var class="keyword varname">&lt;NAME_NODE&gt;</var>
$ hdfs dfs -ls /</pre>
</li>

                        <li class="li">Then, <samp class="ph codeph">ssh</samp> to the HAWQ master, exchange keys, and
                              run:<pre class="pre codeblock">$ source /usr/local/hawq/greenplum_path.sh 
$ gpssh-exkeys -f HAWQ_HOSTS.txt 
$ /etc/init.d/hawq init </pre>
<p class="p">Where
                                 <samp class="ph codeph">HAWQ_HOSTS.txt</samp> contains a list of HAWQ
                           nodes.</p>
</li>

                        <li class="li">If you have a HAWQ standby master configured, initialize it using
                              <samp class="ph codeph">gpinitstandby</samp>.<p class="p">
                              <samp class="ph codeph">gpinitstandby</samp> reads the master data directory
                              location from the <samp class="ph codeph">$MASTER_DATA_DIRECTORY</samp> environment
                              variable, so first run:</p>
<div class="p">
                              <pre class="pre codeblock">$ export MASTER_DATA_DIRECTORY=<var class="keyword varname">&lt;MASTER_DIRECTORY&gt;</var>/gpseg-1 </pre>

                           </div>
<p class="p">Then, run:</p>
<div class="p">
                              <pre class="pre codeblock">$ gpinitstandby -s <var class="keyword varname">&lt;STANDBY_HAWQ_MASTER_FQDN&gt;</var> </pre>

                           </div>
</li>

                     </ol>
</td>

                  <td class="entry confluenceTd" valign="top" width="12.5%" headers="d206052e53 "> </td>

               </tr>

            </tbody>

         </table>
</div>

   </div>

<div class="related-links"/>
<div class="navfooter"><!---->
<span class="navparent"><a class="link" href="../topics/InstallingPHDUsingtheCLI.html" title="Installing PHD Using the CLI"><span class="navheader_label">Parent topic</span><span class="navheader_separator">: </span><span class="navheader_linktext">Installing PHD Using the CLI</span></a></span>  </div><div>
<div class="container">
  <footer class="site-footer-links">
    <div class="copyright">
      <a href="http://docs.pivotal.io" target="_blank">Pivotal Documentation</a>
      © 2014 <a href="http://www.pivotal.io/" target="_blank">Pivotal Software</a>, Inc. All Rights Reserved.
  </div>
  <div class="support">
    Need help? <a href="http://support.pivotal.io" target="_blank">Visit Support</a>
   </div>
  </footer>
</div><!--end of container-->
</div>
</body>
</html>